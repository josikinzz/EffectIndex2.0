import{_ as x}from"./BFkWPtpr.js";import{_,f as $,v as k,o as n,c as s,t as p,h as y,w as d,d as m,F as I,i as S,k as f,r as g,b as i,a as c,J as A,A as w,l as M,n as H,T as L,G as U,y as V,g as j}from"./PhNZAdwz.js";import{_ as C}from"./DagAsSPK.js";const F={props:{location:{type:String,default:""},external:{type:Boolean,default:!1},name:{type:String,default:""},subMenuItems:{type:Array,default:()=>[]},scope:{type:Array,default:null}},computed:{access(){if(Array.isArray(this.scope)){for(let t=0;t<this.scope.length;t++)if(this.$auth.hasScope(this.scope[t]))return!0;return!1}else return!0}},methods:{itemAccess(t){if(Array.isArray(t)){for(let e=0;e<t.length;e++)if(this.$auth.hasScope(t[e]))return!0;return!1}else return!0}}},R={class:"headerNav__menuItem"},z=["href"],G={key:2,class:"headerNav__dropdown"},J=["href"];function Y(t,e,o,v,h,a){const l=x;return $((n(),s("div",R,[o.external?(n(),s("a",{key:0,href:o.location,target:"_blank"},p(o.name),9,z)):(n(),y(l,{key:1,to:o.location,class:"headerNav__menuItemLink"},{default:d(()=>[m(p(o.name),1)]),_:1},8,["to"])),o.subMenuItems?(n(),s("ul",G,[(n(!0),s(I,null,S(o.subMenuItems,(r,u)=>$((n(),s("li",{key:u},[r.external?(n(),s("a",{key:0,href:r.location,target:"_blank"},p(r.name),9,J)):(n(),y(l,{key:1,to:r.location},{default:d(()=>[m(p(r.name),1)]),_:2},1032,["to"]))])),[[k,a.itemAccess(r.scope)]])),128))])):f("",!0)],512)),[[k,a.access]])}const O=_(F,[["render",Y]]),q={};function K(t,e){const o=x;return n(),y(o,{class:"headerNav__donateButton",to:"/donate/"},{default:d(()=>[...e[0]||(e[0]=[m(" Donate ",-1)])]),_:1})}const N=_(q,[["render",K],["__scopeId","data-v-14f0556c"]]),Q={components:{MenuItem:O,DonateButton:N},data(){return{subMenuItems:{}}},computed:{navigation(){return this.$store.state.navigation}}},W={class:"headerNav__mainNavigation"};function X(t,e,o,v,h,a){const l=g("menu-item"),r=g("donate-button");return n(),s("div",W,[(n(!0),s(I,null,S(a.navigation,(u,b)=>(n(),y(l,{key:u.name,location:u.location,external:u.external,name:b,"sub-menu-items":u.children,scope:u.scope},null,8,["location","external","name","sub-menu-items","scope"]))),128)),i(r,{style:{"margin-left":"20px"}})])}const Z=_(Q,[["render",X]]),ee={props:{active:{type:Boolean,default:!1}},methods:{toggleHamburger:function(){this.$store.dispatch("pullout_menu/toggle")}}};function te(t,e,o,v,h,a){return n(),s("div",{class:"hamburger",onMousedown:e[0]||(e[0]=l=>a.toggleHamburger())},[c("div",{class:A("closed "+(o.active?"inactive":"active"))},[...e[1]||(e[1]=[c("span",{class:"patty"},null,-1),c("span",{class:"patty"},null,-1),c("span",{class:"patty"},null,-1)])],2),c("div",{class:A("open "+(o.active?"active":"inactive"))},[...e[2]||(e[2]=[c("span",{class:"patty"},null,-1),c("span",{class:"patty"},null,-1)])],2)],32)}const ne=_(ee,[["render",te],["__scopeId","data-v-ddf4d691"]]),oe=w("/logo2.svg"),ae={components:{MainNavigation:Z,Hamburger:ne},computed:{navbarPullout(){return this.$store.state.pullout_menu.active}}},se={class:"navbar"};function re(t,e,o,v,h,a){const l=x,r=g("main-navigation"),u=g("hamburger");return n(),s("header",se,[i(l,{to:"/"},{default:d(()=>[...e[0]||(e[0]=[c("img",{class:"navbar__logo",src:oe,alt:"An eye, the EffectIndex logo."},null,-1)])]),_:1}),i(r),i(u,{active:a.navbarPullout},null,8,["active"])])}const B=_(ae,[["render",re]]),ie={props:{name:{type:String,default:""},location:{type:String,default:""},external:{type:Boolean,default:!1},children:{type:Array,default:void 0}},data(){return{expanded:!1}},methods:{toggleExpanded(){this.expanded=!this.expanded},checkItemAccess(t){if(Array.isArray(t)){for(let e=0;e<t.length;e++)if(this.$auth.hasScope(t[e]))return!0;return!1}else return!0}}},le={class:"pulloutMenu__itemContainer"},ce=["href"],ue={key:0},de={key:1},me={key:3},_e=["href"];function fe(t,e,o,v,h,a){const l=x;return n(),s("li",le,[!o.children&&o.external?(n(),s("a",{key:0,href:o.location,target:"_blank"},p(o.name),9,ce)):o.children?(n(),s("a",{key:2,onClick:e[0]||(e[0]=r=>a.toggleExpanded())},[h.expanded?(n(),s("span",de," - ")):(n(),s("span",ue," + ")),m(" "+p(o.name),1)])):(n(),y(l,{key:1,to:o.location},{default:d(()=>[m(p(o.name),1)]),_:1},8,["to"])),h.expanded&&o.children?(n(),s("ol",me,[(n(!0),s(I,null,S(o.children,r=>$((n(),s("li",{key:r.name},[r.external?(n(),s("a",{key:1,href:r.location,target:"_blank"},p(r.name),9,_e)):(n(),y(l,{key:0,to:r.location},{default:d(()=>[m(p(r.name),1)]),_:2},1032,["to"]))])),[[k,a.checkItemAccess(r.scope)]])),128))])):f("",!0)])}const he=_(ie,[["render",fe]]),pe={components:{DonateButton:N,PulloutItem:he},computed:{navbarPullout(){return this.$store.state.pullout_menu.active},navigation(){return this.$store.state.navigation}},methods:{checkItemAccess(t){if(Array.isArray(t)){for(let e=0;e<t.length;e++)if(this.$auth.hasScope(t[e]))return!0;return!1}else return!0}}},ge={class:"navbarPullout__menu"};function ve(t,e,o,v,h,a){const l=g("pullout-item"),r=g("donate-button");return n(),s("div",{class:A("navbarPullout "+(a.navbarPullout?"active":""))},[c("div",ge,[(n(!0),s(I,null,S(a.navigation,(u,b)=>$((n(),s("ul",{key:b},[$(i(l,{name:b,location:u.location,external:u.external,children:u.children},null,8,["name","location","external","children"]),[[k,a.checkItemAccess(u.scope)]])])),[[k,a.checkItemAccess(u.scope)]])),128)),i(r,{style:{"margin-top":"1.5em","margin-left":"40px"}})])],2)}const E=_(pe,[["render",ve]]),ye={components:{Icon:C},props:{type:{type:String,default:void 0},src:{type:String,default:void 0},active:{type:Boolean,default:!1}},head(){return{htmlAttrs:{class:this.active?"modal-active":""}}},computed:{url(){return console.log(`${this.src}`),`${this.src}`}},methods:{toggleModal(){this.$emit("toggleModal")},popout(){window.open(this.src,"_blank")}}},be={key:1,style:{position:"relative",height:"100%"},class:"modalImageContainer"},$e=["src"];function ke(t,e,o,v,h,a){const l=C;return n(),y(L,{name:"fade"},{default:d(()=>[$(c("div",{class:"modal",onClick:e[3]||(e[3]=(...r)=>a.toggleModal&&a.toggleModal(...r))},[o.type==="image"?(n(),s("div",{key:0,style:H("background-image: url('"+a.url+"');"),class:"modalImageContainer",onClick:e[1]||(e[1]=M((...r)=>a.toggleModal&&a.toggleModal(...r),["stop"]))},[c("a",{class:"fileButton",onClick:e[0]||(e[0]=M((...r)=>a.popout&&a.popout(...r),["stop"]))},[i(l,{filename:"external-link.svg",color:"white"})])],4)):o.type==="gfycat"&&o.active?(n(),s("div",be,[c("iframe",{src:"https://streamable.com/e/"+o.src+"?autoplay=1&loop=1",frameborder:"0",scrolling:"no",width:"100%",height:"100%",style:{position:"absolute",top:"0",left:"0"},allow:"autoplay",allowfullscreen:""},null,8,$e),c("div",{class:"cover",onClick:e[2]||(e[2]=M((...r)=>a.toggleModal&&a.toggleModal(...r),["stop"]))})])):f("",!0)],512),[[k,o.active]])]),_:1})}const P=_(ye,[["render",ke],["__scopeId","data-v-3beead78"]]),xe=w("/sm-icon-youtube.svg"),we=w("/sm-icon-discord.svg"),Ae=w("/sm-icon-reddit.svg"),Ie=w("/sm-icon-github.svg"),Se={};function Me(t,e){return n(),s("footer",null,[...e[0]||(e[0]=[U('<div class="footer__social"><a href="https://www.youtube.com/c/Josikinz"><img src="'+xe+'" height="32" width="32" alt="YouTube"></a><a href="/discord"><img src="'+we+'" height="32" width="32" alt="Facebook"></a><a href="https://reddit.com/r/replications"><img src="'+Ae+'" height="32" width="32" alt="Reddit"></a><a href="https://github.com/effectindex/EffectIndex"><img src="'+Ie+'" height="32" width="32" alt="GitHub"></a></div><div class="footer__secret"><p><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a><br><small><i><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"> Â© This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. </a></i></small><br></p></div>',2)])])}const Ce=_(Se,[["render",Me]]),Ne={props:{user:{type:Object,default:void 0}},methods:{async logout(){try{await this.$auth.logout(),this.$toasted.show("You have been logged out.",{duration:2e3,type:"success"})}catch(t){console.log(t)}}}},Be={class:"user-info"},Ee={class:"username"},Pe={class:"logout"};function De(t,e,o,v,h,a){const l=x;return n(),s("div",Be,[c("div",Ee,[i(l,{to:"/admin/me"},{default:d(()=>[m(p(o.user.username),1)]),_:1})]),c("div",Pe,[c("a",{onClick:e[0]||(e[0]=(...r)=>a.logout&&a.logout(...r))}," (logout) ")])])}const Te=_(Ne,[["render",De],["__scopeId","data-v-8b17b1b4"]]),He={},Le={class:"user-menu"},Ue={key:0},Ve={key:1},je={key:2},Fe={key:3},Re={key:4},ze={key:5},Ge={key:6};function Je(t,e){const o=x;return n(),s("ul",Le,[t.$auth.hasScope("admin")?(n(),s("li",Ue,[i(o,{to:"/admin"},{default:d(()=>[...e[0]||(e[0]=[m(" Misc ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("admin")?(n(),s("li",Ve,[i(o,{to:"/admin/users"},{default:d(()=>[...e[1]||(e[1]=[m(" Users ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("admin")?(n(),s("li",je,[i(o,{to:"/admin/people"},{default:d(()=>[...e[2]||(e[2]=[m(" People ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("all-replications")||t.$auth.hasScope("own-replications")?(n(),s("li",Fe,[i(o,{to:"/admin/replications"},{default:d(()=>[...e[3]||(e[3]=[m(" Replications ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("all-reports")||t.$auth.hasScope("own-reports")?(n(),s("li",Re,[i(o,{to:"/admin/reports"},{default:d(()=>[...e[4]||(e[4]=[m(" Reports ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("all-articles")||t.$auth.hasScope("own-articles")?(n(),s("li",ze,[i(o,{to:"/admin/articles"},{default:d(()=>[...e[5]||(e[5]=[m(" Articles ",-1)])]),_:1})])):f("",!0),t.$auth.hasScope("admin-effects")||t.$auth.hasScope("edit-effects")?(n(),s("li",Ge,[i(o,{to:"/admin/effects"},{default:d(()=>[...e[6]||(e[6]=[m(" Effects ",-1)])]),_:1})])):f("",!0)])}const Ye=_(He,[["render",Je],["__scopeId","data-v-e36fb5fb"]]),Oe={components:{UserInfo:Te,UserMenu:Ye}},qe={class:"user-bar"},Ke={class:"user-bar-content"};function Qe(t,e,o,v,h,a){const l=g("user-info"),r=g("user-menu");return n(),s("nav",qe,[c("div",Ke,[i(l,{user:t.$auth.user},null,8,["user"]),i(r,{user:t.$auth.user},null,8,["user"])])])}const We=_(Oe,[["render",Qe],["__scopeId","data-v-b83666b7"]]),Xe={name:"EffectIndex",components:{HeaderNav:B,CustomFooter:Ce,PulloutMenu:E,Modal:P,UserBar:We},head(){return{titleTemplate:"%s - Effect Index",title:"Home",meta:[{name:"description",hid:"description",content:"A resource dedicated to establishing the field of formalised subjective effect documentation."},{name:"apple-mobile-web-app-title",hid:"apple-mobile-web-app-title",content:"Effect Index"},{name:"og:title",hid:"og:title",content:"Effect Index"},{name:"og:description",hid:"og:description",content:"A resource dedicated to establishing the field of formalised subjective effect documentation."},{name:"og:type",hid:"og:type",content:"website"},{name:"og:url",hid:"og:url",content:"https://effectindex.com"},{name:"og:image",hid:"og:image",content:"https://effectindex.com/logo-letter.png"},{name:"twitter:card",hid:"twitter:card",content:"summary"},{name:"twitter:title",hid:"twitter:title",content:"Effect Index"},{name:"twitter:description",hid:"twitter:description",content:"A resource dedicated to establishing the field of formalised subjective effect documentation."},{name:"twitter:image",hid:"twitter:image",content:"https://effectindex.com/logo-letter.png"},{name:"twitter:image:alt",hid:"twitter:image:alt",content:"Effect Index Logo"}]}},computed:{navbarPullout(){return this.$store.state.pullout_menu.active},modalActive(){return this.$store.state.modal.active},modalData(){return{type:this.$store.state.modal.type,resource:this.$store.state.modal.resource}}},methods:{toggleModal(){this.$store.commit("modal/toggle")}}},Ze={class:"layoutContainer"},et={class:"page"};function tt(t,e,o,v,h,a){const l=B,r=g("user-bar"),u=V,b=g("custom-footer"),D=E,T=P;return n(),s("div",Ze,[c("div",{class:A([{mainContainerPulledout:a.navbarPullout},"mainContainer"])},[i(l),i(u,null,{default:d(()=>[t.$auth.loggedIn?(n(),y(r,{key:0})):f("",!0)]),_:1}),c("main",et,[j(t.$slots,"default")]),i(b)],2),i(D),a.modalActive?(n(),y(T,{key:0,active:a.modalActive,type:a.modalData.type,src:(a.modalData.type==="image",a.modalData.resource),onToggleModal:a.toggleModal},null,8,["active","type","src","onToggleModal"])):f("",!0)])}const st=_(Xe,[["render",tt]]);export{st as default};
