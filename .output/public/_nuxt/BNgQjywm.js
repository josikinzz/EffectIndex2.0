import{_ as v,o,c as r,a as l,B as y,q as I,s as $,u as x,x as n,t as w,b as f,k as p,z as g}from"./PhNZAdwz.js";import{L as b}from"./DqIfzQtu.js";import{u as P}from"./D9lMb8_o.js";import"./DagAsSPK.js";const k={props:{filename:{type:String,default:""},username:{type:String,default:""}}},B={class:"profileImage"},E=["src","alt"];function F(_,s,i,u,m,c){return o(),r("div",B,[l("img",{src:"/img/profiles/"+i.filename,alt:i.username?"Profile image of "+i.username:"User profile image. "},null,8,E)])}const N=v(k,[["render",F],["__scopeId","data-v-383cdda5"]]),A={class:"pageContent"},L={key:0},C=["innerHTML"],H={key:1,style:{clear:"both","margin-top":"2em"}},R={key:1},T={__name:"[username]",async setup(_){let s,i;const u=y(),{$store:m}=I(),{data:c}=([s,i]=$(async()=>P("profiles:detail",async()=>{const a=u.params.username,{profile:t}=await m.dispatch("profiles/getProfileByName",a);if(!t)return{profile:{},replications:[]};const{replications:h}=await m.dispatch("replications/getReplicationsByArtist",a);return{profile:t,replications:h}},{watch:[()=>u.params.username]})),s=await s,i(),s),e=g(()=>c.value?.profile||{}),d=g(()=>c.value?.replications||[]);return x(()=>({title:e.value?.username||"Profile",meta:[{name:"description",hid:"description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"og:title",hid:"og:title",content:`Effect Index - ${e.value?.username||""}`},{name:"og:description",hid:"og:description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"og:image",hid:"og:image",content:e.value?.profileImageFull?`/img/profiles/${e.value.profileImageFull}`:void 0},{name:"twitter:title",hid:"twitter:title",content:`Effect Index - ${e.value?.username||""}`},{name:"twitter:description",hid:"twitter:description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"twitter:image",hid:"twitter:image",content:e.value?.profileImageFull?`/img/profiles/${e.value.profileImageFull}`:void 0}].filter(a=>a.content)})),(a,t)=>(o(),r("div",A,[n(e).username?(o(),r("div",L,[l("h1",null,w(n(e).username),1),f(N,{filename:n(e).profileImageFull,username:n(e).username},null,8,["filename","username"]),n(e).body?(o(),r("div",{key:0,innerHTML:a.$md.render(n(e).body)},null,8,C)):p("",!0),n(d).length>0?(o(),r("div",H,[t[0]||(t[0]=l("hr",null,null,-1)),t[1]||(t[1]=l("h3",null,"Replications",-1)),f(b,{"image-set":n(d),base:"/img/gallery/"},null,8,["image-set"])])):p("",!0)])):(o(),r("div",R,[...t[2]||(t[2]=[l("h1",null,"Profile not found",-1)])]))]))}};export{T as default};
