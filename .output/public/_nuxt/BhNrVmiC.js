import{A as h}from"./Cng6FIo-.js";import{_ as g,o as r,c as l,a as v,L as b,J as k,I as F,s as K,b as x,x as t,F as f,i as m,h as w,k as $,E as V,z as _}from"./PhNZAdwz.js";import{A as E}from"./C3ff6f5q.js";import{_ as N}from"./DagAsSPK.js";import{u as T}from"./D9lMb8_o.js";import"./bfKoIkxj.js";import"./BFkWPtpr.js";const z={props:{selected:{type:String,default:""}},methods:{by(y){this.$emit("selectView",y)}}},j={class:"articleViewSelector"};function J(y,e,u,c,d,a){return r(),l("div",j,[v("a",{class:k({selected:u.selected==="publishDate"}),tabindex:"0",onKeypress:e[0]||(e[0]=b(i=>a.by("publishDate"),["enter"])),onClick:e[1]||(e[1]=i=>a.by("publishDate"))}," publish date ",34),v("a",{class:k({selected:u.selected==="author"}),tabindex:"0",onKeypress:e[2]||(e[2]=b(i=>a.by("author"),["enter"])),onClick:e[3]||(e[3]=i=>a.by("author"))}," author ",34),v("a",{class:k({selected:u.selected==="title"}),tabindex:"0",onKeypress:e[4]||(e[4]=b(i=>a.by("title"),["enter"])),onClick:e[5]||(e[5]=i=>a.by("title"))}," title ",34)])}const M=g(z,[["render",J],["__scopeId","data-v-087508a6"]]),q={class:"pageContent"},G={key:0,class:"article-list"},H={key:1},O={class:"article-list"},P={key:2,class:"article-list"},Q={__name:"index",async setup(y){let e,u;const c=V("publishDate"),d=V(!0),a=F(),{data:i}=([e,u]=K(()=>T("articles:index",()=>a("/api/articles"))),e=await e,u(),e),p=_(()=>i.value?.articles??[]),A=_(()=>i.value?.authors??[]),B=_(()=>d.value?A.value:A.value.slice().reverse()),C=_(()=>d.value?p.value:p.value.slice().reverse()),I=_(()=>{const o=p.value.slice().sort((n,s)=>n.title.toLowerCase()<s.title.toLowerCase());return d.value?o:o.reverse()}),S=o=>{o===c.value?d.value=!d.value:c.value=o},L=o=>p.value.filter(n=>n.authors.some(s=>s._id===o));return(o,n)=>(r(),l("div",q,[x(t(N),{filename:"file-invoice.svg",class:"categoryIcon"}),n[0]||(n[0]=v("h1",null," Articles ",-1)),n[1]||(n[1]=v("p",{class:"intro"}," This index contains a range of articles on a variety of different topics, each of which are relevant to the field of Subjective Effect Documentation or psychonautics as a whole. ",-1)),x(t(M),{selected:t(c),onSelectView:S},null,8,["selected"]),t(C)&&t(c)==="publishDate"?(r(),l("ul",G,[(r(!0),l(f,null,m(t(C),s=>(r(),w(t(h),{key:s._id,article:s},null,8,["article"]))),128))])):t(c)==="author"?(r(),l("div",H,[(r(!0),l(f,null,m(t(B),s=>(r(),l("div",{key:s._id,class:"author-articles"},[x(t(E),{author:s},null,8,["author"]),v("ul",O,[(r(!0),l(f,null,m(L(s._id),D=>(r(),w(t(h),{key:D._id,article:D},null,8,["article"]))),128))])]))),128))])):t(c)==="title"?(r(),l("ul",P,[(r(!0),l(f,null,m(t(I),s=>(r(),w(t(h),{key:s._id,article:s},null,8,["article"]))),128))])):$("",!0)]))}},te=g(Q,[["__scopeId","data-v-caec8461"]]);export{te as default};
