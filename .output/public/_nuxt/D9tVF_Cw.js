import{_ as g,e as R,m as B,o as i,c as p,a as s,b as a,f as w,v as A,r as $,d as f,w as c,t as l,T as L,g as D,h as x,F as I,i as k,j as V,n as O,k as F,l as T,p as U,q as Y,s as z,x as v,y as H,z as q}from"./PhNZAdwz.js";import{_ as C}from"./BFkWPtpr.js";import{_ as S}from"./DagAsSPK.js";import{l as P}from"./vmnVuMQ2.js";import{f as W}from"./bfKoIkxj.js";import{_ as N}from"./BujIgRvZ.js";import{F as G}from"./BCspAUjg.js";import{u as J}from"./D9lMb8_o.js";import"./Cng6FIo-.js";import"./C3ff6f5q.js";const{debounce:K}=P,Q={components:{Icon:S},computed:{...B(R,{searchInput:"input",searchResults:"results"})},watch:{searchResults:{deep:!0,handler(t){(t?.total_results??0)>0&&this.$router.push("/search")}}},methods:{changeSearchInput(t){R().change_input(t.target.value),this.performSearch()},performSearch:K(function(){R().search(this.searchInput)},400,{trailing:!0}),clear(){R().clear_input(),this.$refs.searchInput.focus()}}},X={class:"searchBox"},Z={class:"inputContainer"},ee={class:"spyglass"},te=["value"];function se(t,e,n,m,_,o){const h=S;return i(),p("div",X,[s("div",Z,[s("div",ee,[a(h,{filename:"search.svg"})]),s("input",{ref:"searchInput",value:t.searchInput,type:"text",placeholder:"Search",class:"searchInput",onInput:e[0]||(e[0]=(...r)=>o.changeSearchInput&&o.changeSearchInput(...r))},null,40,te),w(s("div",{class:"clearButton",onClick:e[1]||(e[1]=(...r)=>o.clear&&o.clear(...r))},[a(h,{filename:"times-circle.svg"})],512),[[A,t.searchInput]])])])}const ne=g(Q,[["render",se],["__scopeId","data-v-5fb90819"]]),oe={components:{SearchBox:ne},data(){return{hiddenIntro:!1}},computed:{effectCount(){return this.$store.state.effects.list.length}},methods:{toggleIntro(){this.hiddenIntro=!this.hiddenIntro}}},re={class:"description"},ie={class:"hiddenIntro"};function ae(t,e,n,m,_,o){const h=$("search-box"),r=C;return i(),p("div",re,[a(h),s("p",null,[e[2]||(e[2]=s("span",{class:"bold"}," Effect Index, ",-1)),e[3]||(e[3]=f(" which is currently under construction, is a resource dedicated to establishing the field of formalised subjective effect documentation. It is the home of the ",-1)),a(r,{to:"/effects/"},{default:c(()=>[...e[1]||(e[1]=[f(" Subjective Effect Index ",-1)])]),_:1}),f(" (SEI), which contains "+l(o.effectCount)+" effect descriptions that exist to serve as a comprehensive map of all potential experiences that can occur under the influence of any class of psychoactive compound, particularly hallucinogens. ",1)]),a(L,{name:"fade"},{default:c(()=>[w(s("div",ie,[s("p",null,[e[5]||(e[5]=f(" The effects identified here are accompanied by detailed descriptions of how it feels to experience them. These are written in an objective and ",-1)),a(r,{to:"/documentation-style-guide"},{default:c(()=>[...e[4]||(e[4]=[f(" consistent writing style ",-1)])]),_:1}),e[6]||(e[6]=f(" based upon phenomenological observation and avoids the use of metaphor or analogy. The descriptions also strive to use language that is as simple and understandable as possible. This has been done with the hope that they will serve as a universal terminology that allows people to describe and discuss that which was previously considered ineffable. ",-1))]),s("p",null,[e[8]||(e[8]=f(" These effects are organised into categories based on the sense affected and their behaviour. Many of these are further broken down into levels, subcomponents, and variations in style, which can occur across different substances. Detailed ",-1)),a(r,{to:"/replications"},{default:c(()=>[...e[7]||(e[7]=[f(" replications ",-1)])]),_:1}),e[9]||(e[9]=f(" are included whenever possible to supplement the text descriptions in the form of images, audio clips, and animations. ",-1))])],512),[[A,_.hiddenIntro]])]),_:1}),s("div",{style:{display:"inline-block"},class:"whiteButton",onClick:e[0]||(e[0]=(...d)=>o.toggleIntro&&o.toggleIntro(...d))}," read "+l(_.hiddenIntro?"less":"more"),1),a(r,{style:{display:"inline-block","margin-left":"1em"},class:"pageContent whiteButton",to:"/about"},{default:c(()=>[...e[10]||(e[10]=[f(" About Us ",-1)])]),_:1})])}const ce=g(oe,[["render",ae],["__scopeId","data-v-8d780645"]]),le={components:{Icon:S},props:{title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:void 0}}},de={class:"frontpagePanel"},ue={class:"frontpagePanelHeader"},fe={class:"frontpagePanelTitleContainer"},pe={class:"frontpagePanelTitle"},he={class:"frontpagePanelDescription"},me={class:"content"},_e={class:"stub"};function ge(t,e,n,m,_,o){const h=S;return i(),p("div",de,[s("div",ue,[s("div",fe,[s("h1",pe,l(n.title),1),s("div",he,l(n.description),1)]),w(a(h,{filename:n.icon,class:"frontpagePanelIcon"},null,8,["filename"]),[[A,n.icon]])]),s("div",me,[D(t.$slots,"content",{class:"content"},void 0,!0)]),w(s("div",_e,[D(t.$slots,"stub",{},void 0,!0)],512),[[A,t.$slots.stub]])])}const E=g(le,[["render",ge],["__scopeId","data-v-b240fc90"]]),ve={components:{FrontpagePanel:E},computed:{featuredEffects(){return this.$store.state.effects.list.filter(t=>t.featured)},visualEffects(){return this.featuredEffects.filter(t=>t.tags.includes("visual"))},cognitiveEffects(){return this.featuredEffects.filter(t=>t.tags.includes("cognitive"))},miscellaneousEffects(){return this.featuredEffects.filter(t=>t.tags.includes("miscellaneous"))}}},be={class:"featuredEffectsListContainer"},ye={class:"featuredEffectsCategory"},$e=["href"],xe={class:"featuredEffectsCategory"},Ie=["href"],ke={class:"featuredEffectsCategory"},Se=["href"];function Ee(t,e,n,m,_,o){const h=C,r=$("FrontpagePanel");return i(),x(r,{icon:"eye.svg",title:"Featured Effects",description:"A selection of subjective effects that best represent the SEI",class:"featuredEffects"},{content:c(()=>[s("div",be,[s("div",ye,[e[0]||(e[0]=s("h4",null," Visual Effects ",-1)),(i(!0),p(I,null,k(o.visualEffects,(d,u)=>(i(),p("a",{key:d._id,href:`/effects/${d.url}`},l(d.name)+l(u<o.visualEffects.length-1?" ⋅ ":""),9,$e))),128))]),s("div",xe,[e[1]||(e[1]=s("h4",null," Cognitive Effects ",-1)),(i(!0),p(I,null,k(o.cognitiveEffects,(d,u)=>(i(),p("a",{key:d._id,href:`/effects/${d.url}`},l(d.name)+l(u<o.cognitiveEffects.length-1?" ⋅ ":""),9,Ie))),128))]),s("div",ke,[e[2]||(e[2]=s("h4",null," Miscellaneous Effects ",-1)),(i(!0),p(I,null,k(o.miscellaneousEffects,(d,u)=>(i(),p("a",{key:d._id,href:`/effects/${d.url}`},l(d.name)+l(u<o.miscellaneousEffects.length-1?" ⋅ ":""),9,Se))),128))])])]),stub:c(()=>[e[4]||(e[4]=f(" For more, see the ",-1)),a(h,{to:"/effects/"},{default:c(()=>[...e[3]||(e[3]=[f(" Subjective Effect Index. ",-1)])]),_:1})]),_:1})}const we=g(ve,[["render",Ee],["__scopeId","data-v-a391e08d"]]),Fe={props:{title:{type:String,default:""},author:{type:String,default:""},slug:{type:String,default:""},substances:{type:Array,default:()=>[]}},computed:{substance(){if(this.substances.length){if(this.substances.length>1)return{name:"Combination",dose:"",roa:""};{const[t]=this.substances,{name:e,dose:n,roa:m}=t;return{name:e,dose:n,roa:m}}}else return{name:"",dose:"",roa:""}}}},Ce={class:"featuredReport"},Re={class:"reportInfo"},Ae={class:"reportTitle"},De=["href"],Pe={class:"reportAuthor"},Te={class:"reportAuthor"},Me={class:"reportSubstance"},Ne={class:"reportSubstanceName"},je={class:"reportSubstanceDoseRoa"};function Be(t,e,n,m,_,o){return i(),p("div",Ce,[s("div",Re,[s("div",Ae,[s("a",{href:`/reports/${n.slug}`},l(n.title),9,De)]),s("div",Pe,[e[0]||(e[0]=f(" by ",-1)),s("span",Te,l(n.author),1)])]),s("div",Me,[s("div",Ne,l(o.substance.name),1),s("div",je,l(o.substance.dose)+" "+l(o.substance.roa),1)])])}const Le=g(Fe,[["render",Be]]),{shuffle:Ve}=P,Oe={components:{FeaturedReport:Le,FrontpagePanel:E},props:{numberOfReports:{type:Number,default:3}},computed:{reports(){return this.$store.state.reports.list},featuredReports(){const t=Ve(this.reports.filter(n=>n.featured)),e=this.numberOfReports;return t.length>=e?t.slice(0,e):t}}},Ue={class:"featuredReports"};function Ye(t,e,n,m,_,o){const h=$("featured-report"),r=C,d=$("FrontpagePanel");return i(),x(d,{icon:"file-signature.svg",title:"Featured Reports",description:"Recommended firsthand accounts of hallucinogenic experiences"},{content:c(()=>[s("div",Ue,[(i(!0),p(I,null,k(o.featuredReports,u=>(i(),x(h,{key:u.id,title:u.title,author:u.subject.name,slug:u.slug,substances:u.substances},null,8,["title","author","slug","substances"]))),128))])]),stub:c(()=>[e[1]||(e[1]=f(" For more, see the ",-1)),a(r,{to:"/reports/"},{default:c(()=>[...e[0]||(e[0]=[f(" reports section. ",-1)])]),_:1})]),_:1})}const ze=g(Oe,[["render",Ye],["__scopeId","data-v-f653ade4"]]),{shuffle:He}=P,qe={components:{Icon:S,FrontpagePanel:E},data(){return{index:void 0}},computed:{featuredReplications(){const t=n=>(n.type==="image"||n.type==="gfycat")&&n.featured,e=this.$store.state.replications.list.filter(t);return He(e)},replication(){return this.featuredReplications.length?this.index===void 0?this.featuredReplications[0]:this.featuredReplications[this.index]:{}},effects(){return this.$store.state.effects.list},replicatedEffects(){if(!this.replication)return[];let t=this.replication.associated_effects;return t?this.effects.filter(n=>t.includes(n._id)):[]},imageUrl(){if(this.replication.type==="image")return console.log(this.replication.resource),this.replication.resource},modalData(){return{type:"image",resource:this.replication.resource}},properIntroduction(){let t=this.replicatedEffects[0];const e="A replication of ",n="A replication of an ";return t&&["Autonomous entity","Internal hallucination","External hallucination"].includes(this.replicatedEffects[0].name)?n:e}},methods:{toggleModal(){this.$store.commit("modal/set_data",this.modalData),this.$store.commit("modal/toggle")},nextImage(){this.index===void 0&&(this.index=0);let t=this.featuredReplications.length-1;this.index<t?this.index=this.index+1:this.index=0},previousImage(){this.index===void 0&&(this.index=0);let t=this.featuredReplications.length-1;this.index>0?this.index=this.index-1:this.index=t}}},We={key:0,style:{position:"relative",height:"300px"}},Ge=["src"],Je={key:0},Ke={key:1},Qe={class:"replicationArtist"};function Xe(t,e,n,m,_,o){const h=S,r=C,d=$("FrontpagePanel"),u=V("touch");return i(),x(d,{icon:"images.svg",title:"Featured Replications",description:"Artistic representations of specific subjective effects"},{content:c(()=>[w((i(),p("div",{style:O("background-image: url('"+o.imageUrl+"');"),class:"replicationImage",onClick:e[3]||(e[3]=(...b)=>o.toggleModal&&o.toggleModal(...b))},[o.replication&&o.replication.type==="gfycat"?(i(),p("div",We,[s("iframe",{src:`https://streamable.com/e/${o.replication.resource}?autoplay=1&loop=1`,frameborder:"0",scrolling:"no",width:"100%",height:"100%",style:{position:"absolute",top:"-5px",left:"0"},allowfullscreen:""},null,8,Ge)])):F("",!0),s("div",{class:"replicationControls previous",onClick:e[0]||(e[0]=T((...b)=>o.previousImage&&o.previousImage(...b),["stop"]))},[a(h,{filename:"chevron-double-left.svg",color:"white"})]),s("div",{class:"replicationControls next",onClick:e[1]||(e[1]=T((...b)=>o.nextImage&&o.nextImage(...b),["stop"]))},[a(h,{filename:"chevron-double-right.svg",color:"white"})]),s("div",{class:"replicationImageDescription",onClick:e[2]||(e[2]=T(()=>{},["stop"]))},[f(l(o.properIntroduction)+" ",1),(i(!0),p(I,null,k(o.replicatedEffects,(b,y)=>(i(),p("span",{key:b._id,class:"replicationEffect"},[y>0&&y===o.replicatedEffects.length-1?(i(),p("span",Je," and ")):y>0?(i(),p("span",Ke,",")):F("",!0),a(r,{to:"/effects/"+b.url},{default:c(()=>[f(l(b.name),1)]),_:2},1032,["to"])]))),128)),s("div",Qe," by "+l(o.replication.artist),1)])],4)),[[u,o.nextImage,"swipe",{left:!0}],[u,o.previousImage,"swipe",{right:!0}]])]),stub:c(()=>[e[5]||(e[5]=f(" For more, see the ",-1)),a(r,{to:"/replications/"},{default:c(()=>[...e[4]||(e[4]=[f(" replications gallery. ",-1)])]),_:1})]),_:1})}const Ze=g(qe,[["render",Xe],["__scopeId","data-v-2787c4f0"]]),et={props:{article:{type:Object,default:void 0}},computed:{publicationDate(){if(this.article){const t=this.article.publication_date;return t?W.format(new Date(t),"dddd, MMMM DD YYYY"):void 0}else return},readTime(){if(this.article&&this.article.body&&this.article.body.length){const{length:t}=this.article.body;return Math.round(t/1200)}else return"Unknown"},authors(){const{authors:t}=this.article;let e="";return t&&t.forEach((n,m)=>{e+=n.full_name,m<t.length-2?e+=", ":m<t.length-1&&(e+=" and ")}),e}}},tt={class:"featuredArticle"},st={class:"articleTitle"},nt=["href"],ot={class:"articleAuthors"},rt={class:"articleInfo"},it={class:"publicationDate"},at={class:"articleLength"},ct={class:"articleDescription"};function lt(t,e,n,m,_,o){return i(),p("div",tt,[s("div",st,[s("a",{href:`/articles/${n.article.slug}`},l(n.article.title),9,nt)]),s("div",ot," by "+l(o.authors),1),s("div",rt,[s("div",it,l(o.publicationDate),1),e[0]||(e[0]=s("div",{class:"separator"}," · ",-1)),s("div",at,l(o.readTime)+" min read ",1)]),s("p",ct,l(n.article.short_description),1)])}const dt=g(et,[["render",lt]]),{shuffle:ut}=P,ft={components:{FeaturedArticle:dt,FrontpagePanel:E},props:{numberOfArticles:{type:Number,default:1}},computed:{articles(){return this.$store.state.articles.list},featuredArticles(){const t=ut(this.articles.filter(n=>n.featured)),e=this.numberOfArticles;return t.length>=e?t.slice(0,e):t}}},pt={class:"featuredArticles"};function ht(t,e,n,m,_,o){const h=$("featured-article"),r=C,d=$("FrontpagePanel");return i(),x(d,{icon:"file-invoice.svg",title:"Featured Article",description:"Analyses that go beyond individual subjective effects"},{content:c(()=>[s("div",pt,[(i(!0),p(I,null,k(o.featuredArticles,u=>(i(),x(h,{key:u.id,article:u},null,8,["article"]))),128))])]),stub:c(()=>[e[1]||(e[1]=f(" For more, see the ",-1)),a(r,{to:"/articles/"},{default:c(()=>[...e[0]||(e[0]=[f(" articles section. ",-1)])]),_:1})]),_:1})}const mt=g(ft,[["render",ht],["__scopeId","data-v-a6c26ec4"]]),_t={name:"FeaturedSponsor",components:{FrontpagePanel:E,ExtLink:N},props:{sponsorName:{type:String,default:void 0},sponsorIconPath:{type:String,default:void 0},sponsorLink:{type:String,default:void 0}}},gt={class:"featuredSponsor"},vt={key:0},bt=["src","alt"];function yt(t,e,n,m,_,o){const h=N,r=$("FrontpagePanel");return n.sponsorName?(i(),x(r,{key:0,icon:"heart.svg",title:`Thank you ${n.sponsorName}!`,class:"featuredSponsorPanel"},U({content:c(()=>[s("div",gt,[n.sponsorIconPath&&n.sponsorLink?(i(),p("div",vt,[a(h,{href:n.sponsorLink},{default:c(()=>[s("img",{src:n.sponsorIconPath,alt:`${n.sponsorName} logo`,class:"sponsorIcon"},null,8,bt)]),_:1},8,["href"])])):F("",!0)])]),_:2},[n.sponsorLink?{name:"stub",fn:c(()=>[e[0]||(e[0]=f(" Thank you to our wonderful sponsor, ",-1)),a(h,{href:n.sponsorLink},{default:c(()=>[f(l(n.sponsorName),1)]),_:1},8,["href"])]),key:"0"}:void 0]),1032,["title"])):F("",!0)}const $t=g(_t,[["render",yt],["__scopeId","data-v-d30b1f4d"]]),xt={components:{FrontpagePanel:E}};function It(t,e,n,m,_,o){const h=$("FrontpagePanel");return i(),x(h,{icon:"flask.svg",title:"Substance Summaries",description:"Hallucinogenic substance classes, broken down and described"},{content:c(()=>[...e[0]||(e[0]=[s("ul",{class:"summaryList"},[s("li",{class:"summaryItem"},[s("span",{style:{color:"#333"}}," Psychedelics: "),s("a",{href:"/summaries/psychedelics/visual"}," Visual, "),s("a",{href:"/summaries/psychedelics/cognitive"}," Cognitive, "),s("a",{href:"/summaries/psychedelics/miscellaneous"}," Miscellaneous ")]),s("li",{class:"summaryItem"},[s("a",{href:"/summaries/dissociatives"}," Dissociatives ")]),s("li",{class:"summaryItem"},[s("a",{href:"/summaries/deliriants"}," Deliriants ")])],-1)])]),stub:c(()=>[...e[1]||(e[1]=[f(" For more, see the ",-1),s("a",{href:"/articles/"}," articles section. ",-1)])]),_:1})}const kt=g(xt,[["render",It],["__scopeId","data-v-41962cc5"]]),St={},Et={class:"column"};function wt(t,e){return i(),p("div",Et,[D(t.$slots,"default")])}const M=g(St,[["render",wt]]),Ft={},Ct={class:"columns"};function Rt(t,e){return i(),p("div",Ct,[D(t.$slots,"default")])}const At=g(Ft,[["render",Rt]]),Dt={class:"pageContent"},Pt={key:0,class:"dataWarning"},Tt={__name:"index",async setup(t){let e,n;const{$store:m}=Y(),_=r=>{const d=r?.statusCode||r?.response?.status||r?.data?.statusCode,u=r?.data?.error?.name||r?.name||"Error",b=r?.data?.error?.message||r?.statusMessage||r?.message||"Unknown error";return`${d?`${d} `:""}${u}: ${b}`},{data:o}=([e,n]=z(async()=>J("home:prefetch",async()=>{const r=[{label:"effects",promise:m.dispatch("effects/get")},{label:"replications",promise:m.dispatch("replications/featured")},{label:"reports",promise:m.dispatch("reports/get")},{label:"articles",promise:m.dispatch("articles/get")}],u=(await Promise.allSettled(r.map(y=>y.promise))).map((y,j)=>({result:y,label:r[j].label})).filter(y=>y.result.status==="rejected");return u.length===0?{message:""}:{message:`Some homepage content is unavailable. ${u.map(y=>`${y.label} (${_(y.result.reason)})`).join("; ")}. Check /api/health for database status when running locally.`}})),e=await e,n(),e),h=q(()=>o.value?.message||"");return(r,d)=>{const u=H;return i(),p("div",Dt,[a(v(ce)),v(h)?(i(),p("div",Pt,l(v(h)),1)):F("",!0),a(v(G)),a(v(At),null,{default:c(()=>[a(v(M),null,{default:c(()=>[a(v($t),{"sponsor-name":"Emergence Benefactors","sponsor-link":"https://ebenefactors.org/","sponsor-icon-path":"/ebenefactors.png"}),a(v(kt)),a(v(we)),a(v(mt))]),_:1}),a(v(M),null,{default:c(()=>[a(u,null,{default:c(()=>[a(v(Ze))]),_:1}),a(v(ze),{"number-of-reports":8})]),_:1})]),_:1})])}}},Ht=g(Tt,[["__scopeId","data-v-cdb62676"]]);export{Ht as default};
