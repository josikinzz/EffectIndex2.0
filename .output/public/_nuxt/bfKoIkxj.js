var E=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,f="\\d\\d?",s="\\d\\d",R="\\d{3}",B="\\d{4}",g="[^\\s]+",x=/\[([^]*?)\]/gm;function G(r,e){for(var n=[],o=0,t=r.length;o<t;o++)n.push(r[o].substr(0,e));return n}var P=function(r){return function(e,n){var o=n[r].map(function(i){return i.toLowerCase()}),t=o.indexOf(e.toLowerCase());return t>-1?t:null}};function d(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0,t=e;o<t.length;o++){var i=t[o];for(var m in i)r[m]=i[m]}return r}var U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$=["January","February","March","April","May","June","July","August","September","October","November","December"],K=G($,3),Q=G(U,3),q={dayNamesShort:Q,dayNames:U,monthNamesShort:K,monthNames:$,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!==10?1:0)*r%10]}},p=d({},q),V=function(r){return p=d(p,r)},T=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},u=function(r,e){for(e===void 0&&(e=2),r=String(r);r.length<e;)r="0"+r;return r},X={D:function(r){return String(r.getDate())},DD:function(r){return u(r.getDate())},Do:function(r,e){return e.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return u(r.getDay())},ddd:function(r,e){return e.dayNamesShort[r.getDay()]},dddd:function(r,e){return e.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return u(r.getMonth()+1)},MMM:function(r,e){return e.monthNamesShort[r.getMonth()]},MMMM:function(r,e){return e.monthNames[r.getMonth()]},YY:function(r){return u(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return u(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return u(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return u(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return u(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return u(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return u(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return u(r.getMilliseconds(),3)},a:function(r,e){return r.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(r,e){return r.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+u(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+u(Math.floor(Math.abs(e)/60),2)+":"+u(Math.abs(e)%60,2)}},Z=function(r){return+r-1},F=[null,f],z=[null,g],A=["isPm",g,function(r,e){var n=r.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],C=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var e=(r+"").match(/([+-]|\d\d)/gi);if(e){var n=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?n:-n}return 0}],j={D:["day",f],DD:["day",s],Do:["day",f+g,function(r){return parseInt(r,10)}],M:["month",f,Z],MM:["month",s,Z],YY:["year",s,function(r){var e=new Date,n=+(""+e.getFullYear()).substr(0,2);return+(""+(+r>68?n-1:n)+r)}],h:["hour",f,void 0,"isPm"],hh:["hour",s,void 0,"isPm"],H:["hour",f],HH:["hour",s],m:["minute",f],mm:["minute",s],s:["second",f],ss:["second",s],YYYY:["year",B],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",s,function(r){return+r*10}],SSS:["millisecond",R],d:F,dd:F,ddd:z,dddd:z,MMM:["month",g,P("monthNamesShort")],MMMM:["month",g,P("monthNames")],a:A,A,ZZ:C,Z:C},S={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},k=function(r){return d(S,r)},_=function(r,e,n){if(e===void 0&&(e=S.default),n===void 0&&(n={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");e=S[e]||e;var o=[];e=e.replace(x,function(i,m){return o.push(m),"@@@"});var t=d(d({},p),n);return e=e.replace(E,function(i){return X[i](r,t)}),e.replace(/@@@/g,function(){return o.shift()})};function rr(r,e,n){if(n===void 0&&(n={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=S[e]||e,r.length>1e3)return null;var o=new Date,t={year:o.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],m=[],l=e.replace(x,function(h,c){return m.push(T(c)),"@@@"}),v={},w={};l=T(l).replace(E,function(h){var c=j[h],y=c[0],W=c[1],I=c[3];if(v[y])throw new Error("Invalid format. "+y+" specified twice in format");return v[y]=!0,I&&(w[I]=!0),i.push(c),"("+W+")"}),Object.keys(w).forEach(function(h){if(!v[h])throw new Error("Invalid format. "+h+" is required in specified format")}),l=l.replace(/@@@/g,function(){return m.shift()});var M=r.match(new RegExp(l,"i"));if(!M)return null;for(var J=d(d({},p),n),a=1;a<M.length;a++){var H=i[a-1],L=H[0],b=H[2],N=b?b(M[a],J):+M[a];if(N==null)return null;t[L]=N}t.isPm===1&&t.hour!=null&&+t.hour!=12?t.hour=+t.hour+12:t.isPm===0&&+t.hour==12&&(t.hour=0);var D;if(t.timezoneOffset==null){D=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond);for(var Y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],a=0,O=Y.length;a<O;a++)if(v[Y[a][0]]&&t[Y[a][0]]!==D[Y[a][1]]())return null}else if(D=new Date(Date.UTC(t.year,t.month,t.day,t.hour,t.minute-t.timezoneOffset,t.second,t.millisecond)),t.month>11||t.month<0||t.day>31||t.day<1||t.hour>23||t.hour<0||t.minute>59||t.minute<0||t.second>59||t.second<0)return null;return D}var er={format:_,parse:rr,defaultI18n:q,setGlobalDateI18n:V,setGlobalDateMasks:k};export{er as f};
