import{_ as v,o as r,c as o,a as l,D as $,I,s as w,u as x,y as n,t as b,b as g,k as _,B as h}from"./DdQnp8wQ.js";import{L as k}from"./CA6pz1OT.js";import{u as F}from"./DieWdjBu.js";import"./NVYaaFKl.js";const P={props:{filename:{type:String,default:""},username:{type:String,default:""}}},E={class:"profileImage"},A=["src","alt"];function B(y,s,a,u,m,c){return r(),o("div",E,[l("img",{src:"/img/profiles/"+a.filename,alt:a.username?"Profile image of "+a.username:"User profile image. "},null,8,A)])}const L=v(P,[["render",B],["__scopeId","data-v-383cdda5"]]),S={class:"pageContent"},C={key:0},D=["innerHTML"],H={key:1,style:{clear:"both","margin-top":"2em"}},N={key:1},U={__name:"[username]",async setup(y){let s,a;const u=$(),m=I(),{data:c}=([s,a]=w(async()=>F(`profiles:detail:${String(u.params.username||"")}`,async()=>{const i=u.params.username,{profile:t}=await m(`/api/profiles/user/${i}`);if(!t)return{profile:{},replications:[]};let d=[];try{const p=await m(`/api/replications/byartist/${i}`);d=Array.isArray(p?.replications)?p.replications:[]}catch{d=[]}return{profile:t,replications:d}},{watch:[()=>u.params.username]})),s=await s,a(),s),e=h(()=>c.value?.profile||{}),f=h(()=>c.value?.replications||[]);return x(()=>({title:e.value?.username||"Profile",meta:[{name:"description",hid:"description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"og:title",hid:"og:title",content:`Effect Index - ${e.value?.username||""}`},{name:"og:description",hid:"og:description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"og:image",hid:"og:image",content:e.value?.profileImageFull?`/img/profiles/${e.value.profileImageFull}`:void 0},{name:"twitter:title",hid:"twitter:title",content:`Effect Index - ${e.value?.username||""}`},{name:"twitter:description",hid:"twitter:description",content:`Profile of Effect Index contributor ${e.value?.username||""}`},{name:"twitter:image",hid:"twitter:image",content:e.value?.profileImageFull?`/img/profiles/${e.value.profileImageFull}`:void 0}].filter(i=>i.content)})),(i,t)=>(r(),o("div",S,[n(e).username?(r(),o("div",C,[l("h1",null,b(n(e).username),1),g(L,{filename:n(e).profileImageFull,username:n(e).username},null,8,["filename","username"]),n(e).body?(r(),o("div",{key:0,innerHTML:i.$md.render(n(e).body)},null,8,D)):_("",!0),n(f).length>0?(r(),o("div",H,[t[0]||(t[0]=l("hr",null,null,-1)),t[1]||(t[1]=l("h3",null,"Replications",-1)),g(k,{"image-set":n(f),base:"/img/gallery/"},null,8,["image-set"])])):_("",!0)])):(r(),o("div",N,[...t[2]||(t[2]=[l("h1",null,"Profile not found",-1)])]))]))}};export{U as default};
