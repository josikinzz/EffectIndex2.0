import{_ as i}from"./CTbYNERF.js";import{B as d}from"./B_ljzQIY.js";import{_ as g,D as x,S as f,q as h,s as y,u as b,o as c,c as w,y as u,h as k,k as B,b as P,w as C,d as v,B as N,ah as A}from"./DdQnp8wQ.js";import{u as D}from"./DieWdjBu.js";import"./NVYaaFKl.js";import"./bfKoIkxj.js";const V={class:"pageContent blog"},E={__name:"index",async setup(R){let t,a;const e=x(),p=f(),{$store:r}=h(),{data:l}=([t,a]=y(async()=>D(`blog:post:${String(e.params.slug||"")}`,async()=>{try{return await r.dispatch("blog/getPost",e.params.slug)}catch(s){throw A({statusCode:404,statusMessage:s?.message||"Post not found"})}},{watch:[()=>e.params.slug]})),t=await t,a(),t),o=N(()=>l.value?.post);b(()=>({title:o.value?.title||"Blog"}));const _=async s=>{await r.dispatch("blog/deletePost",s),p.push("/blog/")};return(s,n)=>{const m=i;return c(),w("div",V,[u(o)?(c(),k(d,{key:0,post:u(o),onDeletePost:_},null,8,["post"])):B("",!0),P(m,{to:"/blog"},{default:C(()=>[...n[0]||(n[0]=[v(" ... back ",-1)])]),_:1})])}}},T=g(E,[["__scopeId","data-v-737a4565"]]);export{T as default};
